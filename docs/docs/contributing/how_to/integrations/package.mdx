---
pagination_next: contributing/how_to/integrations/standard_tests
pagination_prev: contributing/how_to/integrations/index
---
# How to implement an integration package

This guide walks through the process of implementing a LangChain integration 
package.

Integration packages are just Python packages that can be installed with `pip install <your-package>`,
which contain classes that are compatible with LangChain's core interfaces.

We will cover:

1. How to implement components, such as [chat models](/docs/concepts/chat_models/) and [vector stores](/docs/concepts/vectorstores/), that adhere
to the LangChain interface;  
2. (Optional) How to bootstrap a new integration package.

## Implementing LangChain components

LangChain components are subclasses of base classes in [langchain-core](/docs/concepts/architecture/#langchain-core).
Examples include [chat models](/docs/concepts/chat_models/),
[vector stores](/docs/concepts/vectorstores/), [tools](/docs/concepts/tools/),
[embedding models](/docs/concepts/embedding_models/) and [retrievers](/docs/concepts/retrievers/).

Your integration package will typically implement a subclass of at least one of these
components. Expand the tabs below to see details on each.

<details>
    <summary>Chat models</summary>

Refer to the [Custom Chat Model Guide](/docs/how_to/custom_chat_model) guide for
detail on a starter chat model [implementation](/docs/how_to/custom_chat_model/#implementation).

:::tip

The model from the [Custom Chat Model Guide](/docs/how_to/custom_chat_model) is tested
against the standard unit and integration tests in the LangChain Github repository.
You can also access that implementation directly from Github
[here](https://github.com/langchain-ai/langchain/blob/master/libs/standard-tests/tests/unit_tests/custom_chat_model.py).

:::

</details>

<details>
    <summary>Vector stores</summary>

Your vector store implementation will depend on your chosen database technology.
`langchain-core` includes a minimal
[in-memory vector store](https://python.langchain.com/api_reference/core/vectorstores/langchain_core.vectorstores.in_memory.InMemoryVectorStore.html)
that we can use as a guide. You can access the code [here](https://github.com/langchain-ai/langchain/blob/master/libs/core/langchain_core/vectorstores/in_memory.py).

All vector stores must inherit from the [VectorStore](https://python.langchain.com/api_reference/core/vectorstores/langchain_core.vectorstores.base.VectorStore.html)
base class. This interface consists of methods for writing, deleting and searching
for documents in the vector store.

`VectorStore` supports a variety of synchronous and asynchronous search types (e.g., 
nearest-neighbor or maximum marginal relevance), as well as interfaces for adding
documents to the store. See the [API Reference](https://python.langchain.com/api_reference/core/vectorstores/langchain_core.vectorstores.base.VectorStore.html)
for all supported methods. The required methods are tabulated below:

| Method/Property         | Description                                          |
|------------------------ |------------------------------------------------------|
| `add_documents`         | Add documents to the vector store.                   |
| `delete`                | Delete selected documents from vector store (by IDs) |
| `get_by_ids`            | Get selected documents from vector store (by IDs)    |
| `similarity_search`     | Get documents most similar to a query.               |
| `embeddings` (property) | Embeddings object for vector store.                  |
| `from_texts`            | Instantiate vector store via adding texts.           |

Note that `InMemoryVectorStore` implements some optional search types, as well as
convenience methods for loading and dumping the object to a file, but this is not
necessary for all implementations.

:::tip

The [in-memory vector store](https://github.com/langchain-ai/langchain/blob/master/libs/core/langchain_core/vectorstores/in_memory.py)
is tested against the standard tests in the LangChain Github repository.

:::

</details>

<!-- <details>
<summary>Embeddings</summary>

</details>

<details>
<summary>Tools</summary>

</details>

<details>
<summary>Retrievers</summary>

</details>

<details>
<summary>Document Loaders</summary>

</details> -->

## (Optional) bootstrapping a new integration package

In this guide, we will be using [Poetry](https://python-poetry.org/) for
dependency management and packaging, and you're welcome to use any other tools you prefer.

### **Prerequisites**

- [GitHub](https://github.com) account
- [PyPi](https://pypi.org/) account

### Boostrapping a new Python package with Poetry

First, install Poetry:

```bash
pip install poetry
```

Next, come up with a name for your package. For this guide, we'll use `langchain-parrot-link`.
You can confirm that the name is available on PyPi by searching for it on the [PyPi website](https://pypi.org/).

Next, create your new Python package with Poetry, and navigate into the new directory with `cd`:

```bash
poetry new langchain-parrot-link
cd langchain-parrot-link
```

Add main dependencies using Poetry, which will add them to your `pyproject.toml` file:

```bash
poetry add langchain-core
```

We will also add some `test` dependencies in a separate poetry dependency group. If
you are not using Poetry, we recommend adding these in a way that won't package them
with your published package, or just installing them separately when you run tests.

`langchain-tests` will provide the [standard tests](../standard_tests) we will use later. 
We recommended pinning these to the latest version: <img src="https://img.shields.io/pypi/v/langchain-tests" style={{position:"relative",top:4,left:3}} />

Note: Replace `<latest_version>` with the latest version of `langchain-tests` below.

```bash
poetry add --group test pytest pytest-socket pytest-asyncio langchain-tests==<latest_version>
```

And finally, have poetry set up a virtual environment with your dependencies, as well
as your integration package:

```bash
poetry install --with test
```

You're now ready to start writing your integration package!

### Writing your integration

Let's say you're building a simple integration package that provides a `ChatParrotLink`
chat model integration for LangChain. Here's a simple example of what your project
structure might look like:

```plaintext
langchain-parrot-link/
├── langchain_parrot_link/
│   ├── __init__.py
│   └── chat_models.py
├── tests/
│   ├── __init__.py
│   └── test_chat_models.py
├── pyproject.toml
└── README.md
```

All of these files should already exist from step 1, except for 
`chat_models.py` and `test_chat_models.py`! We will implement `test_chat_models.py` 
later, following the [standard tests](../standard_tests) guide.

For `chat_models.py`, simply paste the contents of the chat model implementation
[above](#implementing-langchain-components).

### Push your package to a public Github repository

This is only required if you want to publish your integration in the LangChain documentation.

1. Create a new repository on GitHub.
2. Push your code to the repository.
3. Confirm that your repository is viewable by the public (e.g. in a private browsing window, where you're not logged into Github).

## Next Steps

Now that you've implemented your package, you can move on to [testing your integration](../standard_tests) for your integration and successfully run them.
